<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <title>tableフィルタ</title>
  <style>
  </style>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/0.11.10/vue.min.js"></script>
</head>

<body>
  <div class="container">
    <div id="vue-table">
      <input type="text" v-model="search" class="form-control" />
      <table class="table table-striped">
        <thead>
          <tr>
            <th v-repeat="column: columns">
              <a href="#" v-on="click: sortBy(column)" v-class="active: sortKey == column">
                {{ column | capitalize }}
              </a>
            </th>
          </tr>
        </thead>

        <tbody>
          <tr v-repeat="people
                      | filterBy search
                      | orderBy sortKey reverse">
            <td>{{ name }}</td>
            <td>{{ age }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    new Vue({
      el: '#vue-table',

      data: {
        sortKey: '',

        search: '',

        reverse: false,

        columns: ['name', 'age'],

        people: [
          { name: 'John', age: 50 },
          { name: 'Jack', age: 35 },
          { name: 'Keith', age: 28 },
          { name: 'Alain', age: 17 },
          { name: 'Neil', age: 1 },
          { name: 'Mark', age: 72 },
          { name: 'Don', age: 47 },
          { name: 'Walter', age: 41 },
          { name: 'Jessy', age: 33 },
          { name: 'Henck', age: 22 },
          { name: 'Sal', age: 9 },
          { name: 'Skyler', age: 42 },
          { name: 'Holly', age: 55 },
        ]
      },

      methods: {
        sortBy: function (sortKey) {
          this.reverse = (this.sortKey == sortKey) ? !this.reverse : false;
          this.sortKey = sortKey;
        }
      },
    });
  </script>
</body>


</html>
